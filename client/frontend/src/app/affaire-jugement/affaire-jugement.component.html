<div class="judgment-container">
  <div class="judgment-header">
    <h2 class="judgment-title">
      <i class="fas fa-gavel"></i> Affectation d'un Jugement
    </h2>
  </div>

  <!-- Formulaire de recherche - Même structure que saisie-container -->
  <div class="form-section">
    <form (ngSubmit)="onSearch()" #rechercheForm="ngForm" class="search-form">
      <div class="form-group">
        <label for="numeroAffaire"><i class="fas fa-file-alt"></i> Numéro d'Affaire</label>
        <div class="search-input-group">
          <input 
            type="text" 
            id="numeroAffaire" 
            [(ngModel)]="numeroAffaire" 
            name="numeroAffaire" 
            required
            #numeroAffaireInput="ngModel"
          >
          <button type="submit" [disabled]="rechercheForm.invalid">
            <i class="fas fa-search"></i> Rechercher
          </button>
        </div>
        <div *ngIf="numeroAffaireInput.invalid && numeroAffaireInput.touched" class="error-message">
          Le numéro de l'affaire est requis.
        </div>
      </div>
    </form>
  </div>

  <!-- Détails de l'affaire -->
  <div *ngIf="affaire" class="details-section">
    <h3><i class="fas fa-info-circle"></i> Détails de l'Affaire</h3>
    <div class="details-grid">
      <div><span>Numéro :</span> {{affaire.numeroAffaire}}</div>
      <div><span>Objet :</span> {{affaire.objet}}</div>
      <div><span>Avocat :</span> {{affaire.avocat?.utilisateur?.nom || 'Non assigné'}}</div>
      <div><span>Tribunal :</span> {{affaire.tribunal?.nom || 'Non assigné'}}</div>
    </div>
  </div>

  <!-- Formulaire de jugement -->
  <div class="form-section">
    <h3><i class="fas fa-gavel"></i> Affecter un Jugement</h3>
    <form (ngSubmit)="assignerJugement()" #jugementForm="ngForm" class="judgment-form">
      <div class="form-row">
        <div class="form-group">
          <label for="dateJugement">Date du Jugement</label>
          <input type="date" id="dateJugement" [(ngModel)]="dateJugement" name="dateJugement" required>
        </div>
        <div class="form-group">
          <label for="montant">Montant</label>
          <input type="number" id="montant" [(ngModel)]="montant" name="montant" required>
        </div>
      </div>

      <div class="form-group">
        <label for="issue">Issue</label>
        <select id="issue" [(ngModel)]="issue" name="issue" required>
          <option value="Favorable">Favorable</option>
          <option value="Défavorable">Défavorable</option>
          <option value="Partiel">Partiel</option>
        </select>
      </div>

      <div class="form-group">
        <label for="remarque">Remarques</label>
        <textarea id="remarque" [(ngModel)]="remarque" name="remarque" rows="3"></textarea>
      </div>

      <button type="submit" [disabled]="jugementForm.invalid">
        <i class="fas fa-check"></i> Enregistrer
      </button>
    </form>
  </div>

  <!-- Messages -->
  <div *ngIf="successMessage" class="message success">
    <i class="fas fa-check-circle"></i> {{successMessage}}
  </div>
  <div *ngIf="errorMessage" class="message error">
    <i class="fas fa-exclamation-circle"></i> {{errorMessage}}
  </div>
</div>