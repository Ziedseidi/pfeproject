<div class="dashboard-container">
  <!-- Navbar -->
  <header class="navbar">
    <div class="navbar-left">
      <div class="navbar-logo">⚖️ <span>Tunisair</span></div>
    </div>

    <div class="navbar-right">
      <!-- Chatbot toggle -->
      <div class="chatbot-link" (click)="toggleChatbot()" style="cursor:pointer;">
        <img src="assets/chatbot.png" alt="Chatbot IA" class="chatbot-icon" />
        <span>Juridique-IA</span>
      </div>

      <span class="user-name">{{ user.nom }} {{ user.prenom }}</span>
      <img
        [src]="user.imageprofile || 'assets/images/user-profile.jpg'"
        alt="Profil"
        class="profile-img"
      />
      <button class="logout-btn" (click)="logout()" aria-label="Déconnexion">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"
          stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          class="feather feather-log-out" viewBox="0 0 24 24">
          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
          <polyline points="16 17 21 12 16 7"/>
          <line x1="21" y1="12" x2="9" y2="12"/>
        </svg>
      </button>
    </div>
  </header>

  <!-- Chatbot -->
  <div *ngIf="isChatbotVisible" class="chatbot-container">
    <app-chatbot-juridique></app-chatbot-juridique>
  </div>

  <!-- Content with sidebar and main -->
  <div class="content-wrapper">
    <!-- Sidebar -->
   <aside class="sidebar">
  <nav class="nav">
    <a class="nav-link" [routerLink]="['/profile']">
      👤 Profil
    </a>
    <a class="nav-link" [routerLink]="['/mes-affaires-liste']">
      📂 Mes affaires
    </a>
    <a class="nav-link" [routerLink]="['/audiences']">
      📅 Mes audiences
    </a>
    <a class="nav-link" [routerLink]="['/Pdfs']">
      📁 Mes Contrats
    </a>
    <a class="nav-link" [routerLink]="['/ajouter-dossier']">
      ➕ Ajouter dossier
    </a>
   <a class="nav-link position-relative" (click)="toggleNotifications()">
  🔔 Notifications
  <span *ngIf="notifications.length" class="badge bg-danger position-absolute top-0 start-100 translate-middle rounded-pill">
    {{ notifications.length }}
  </span>
</a>

    <!-- AJOUT DU LIEN PAIEMENT -->
    <a class="nav-link" [routerLink]="['/paiement-consignation']">
      💸 Paiement Consignation
    </a>
    <a class="nav-link" [routerLink]="['/paiement-saisie']">
      💸 Paiement Saisie
    </a>
    <a class="nav-link" [routerLink]="['/factures']">
      🧾 Factures
    </a>
  </nav>

</aside>

    <!-- Main content -->
    <main class="main-content">
      <app-spinner *ngIf="isLoading"></app-spinner>

      <!-- 👇 TON COMPONENT CALÉ ICI EN DUR -->
      <app-info-juredique-avocat></app-info-juredique-avocat>
    </main>
          <router-outlet></router-outlet>

  </div>
</div>
